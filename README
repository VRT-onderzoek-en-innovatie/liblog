Very very much inspired by liblogger (http://liblogger.sourceforge.net/)
